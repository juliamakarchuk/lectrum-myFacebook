(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports={post:"styles_post__10vqr",cross:"styles_cross__1dr5E"}},16:function(e,t,n){e.exports={statusBar:"styles_statusBar__2DNnl"}},17:function(e,t,n){e.exports={composer:"styles_composer__1FwBx"}},19:function(e,t,n){e.exports={spinner:"styles_spinner__25Apx"}},20:function(e,t,n){e.exports={feed:"styles_feed__2RQ-o"}},21:function(e,t,n){e.exports=n.p+"static/media/lisa.c0366208.png"},23:function(e,t,n){e.exports=n(44)},28:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(9),i=n.n(r),c=(n(28),n(2)),o=n(3),u=n(6),l=n(4),m=n(5),h=n(15),p=n(7),b=n.n(p),_=n(22),k=n(12),f=n(1),d=n(11),O=n.n(d),v=Object(a.createContext)(),j=v.Provider,y=v.Consumer,g=n(16),E=n.n(g),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(y,null,function(e){return s.a.createElement("section",{className:E.a.statusBar},s.a.createElement("button",null,s.a.createElement("img",{src:e.avatar}),s.a.createElement("span",null," ",e.currentUserFirstName," "),"\xa0",s.a.createElement("span",null," ",e.currentUserLastName," ")))})}}]),t}(a.Component),P=n(17),w=n.n(P),S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={comment:""},e._updateComment=e._updateComment.bind(Object(f.a)(Object(f.a)(e))),e._submitComment=e._submitComment.bind(Object(f.a)(Object(f.a)(e))),e._handleFormSubmit=e._handleFormSubmit.bind(Object(f.a)(Object(f.a)(e))),e._submitOnEnter=e._submitOnEnter.bind(Object(f.a)(Object(f.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_updateComment",value:function(e){this.setState({comment:e.target.value})}},{key:"_handleFormSubmit",value:function(e){e.preventDefault(),this._submitComment()}},{key:"_submitComment",value:function(){var e=this.state.comment;if(!e)return null;this.props._createPost(e),this.setState({comment:""})}},{key:"_submitOnEnter",value:function(e){"Enter"===e.key&&(e.preventDefault(),this._submitComment())}},{key:"render",value:function(){var e=this,t=this.state.comment;return s.a.createElement(y,null,function(n){return s.a.createElement("section",{className:w.a.composer},s.a.createElement("section",null,s.a.createElement("img",{src:n.avatar}),s.a.createElement("form",{onSubmit:e._handleFormSubmit},s.a.createElement("textarea",{placeholder:"What are you thinking about, ".concat(n.currentUserFirstName),value:t,onChange:e._updateComment,onKeyPress:e._submitOnEnter}),s.a.createElement("input",{type:"submit",value:"Post"}))))})}}]),t}(a.Component),N=n(10),C=n(18),x=n.n(C),F=n(8),B=n.n(F),M=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={showLikers:!1},e._getLikeByMe=e._getLikeByMe.bind(Object(f.a)(Object(f.a)(e))),e._getLikeStyles=e._getLikeStyles.bind(Object(f.a)(Object(f.a)(e))),e._likePost=e._likePost.bind(Object(f.a)(Object(f.a)(e))),e._showLikers=e._showLikers.bind(Object(f.a)(Object(f.a)(e))),e._hideLikers=e._hideLikers.bind(Object(f.a)(Object(f.a)(e))),e.__getLikersList=e._getLikersList.bind(Object(f.a)(Object(f.a)(e))),e._getLikesDescription=e._getLikesDescription.bind(Object(f.a)(Object(f.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_showLikers",value:function(){this.setState({showLikers:!0})}},{key:"_hideLikers",value:function(){this.setState({showLikers:!this.state})}},{key:"_likePost",value:function(){var e=this.props,t=e._likePost;t(e.id)}},{key:"_getLikeByMe",value:function(){var e=this.props,t=e.currentUserFirstName,n=e.currentUserLastName;return e.likes.some(function(e){var a=e.firstName,s=e.lastName;return"".concat(a," ").concat(s)==="".concat(t," ").concat(n)})}},{key:"_getLikeStyles",value:function(){var e=this._getLikeByMe();return x()(B.a.icon,Object(N.a)({},B.a.liked,e))}},{key:"_getLikersList",value:function(){var e=this.state.showLikers,t=this.props.likes,n=t.map(function(e){var t=e.firstName,n=e.lastName,a=e.id;return s.a.createElement("li",{key:a},"".concat(t," ").concat(n))});return t.length&&e?s.a.createElement("ul",null,n):null}},{key:"_getLikesDescription",value:function(){var e=this.props,t=e.currentUserFirstName,n=e.currentUserLastName,a=e.likes,s=this._getLikeByMe();return 1===a.length&&s?"".concat(t," ").concat(n):2===a.length&&s?"You and ".concat(a.length-1," other"):s?"You and ".concat(a.length-1," others"):a.length}},{key:"render",value:function(){var e=this._getLikeStyles(),t=this._getLikersList(),n=this._getLikesDescription();return s.a.createElement("section",{className:B.a.like},s.a.createElement("span",{className:e,onClick:this._likePost},"Like"),s.a.createElement("div",{className:B.a.showLiker},t,s.a.createElement("span",{onMouseEnter:this._showLikers,onMouseLeave:this.hideLikers},n)))}}]),t}(a.Component),U=n(13),D=n.n(U),I=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.created,a=e._likePost,r=e._removePost,i=e.id,c=e.likes;return s.a.createElement(y,null,function(e){return s.a.createElement("section",{className:D.a.post},s.a.createElement("span",{className:D.a.cross,onClick:function(){return r(i)}}),s.a.createElement("img",{src:e.avatar}),s.a.createElement("a",null," ","".concat(e.currentUserFirstName," ").concat(e.currentUserLastName)," "),s.a.createElement("time",null,O.a.unix(n).format("MMMM D h:mm:ss a")),s.a.createElement("p",null,t),s.a.createElement(M,Object.assign({_likePost:a,id:i,likes:c},e)))})}}]),t}(a.Component),W=n(19),q=n.n(W),A=document.getElementById("spinner"),H=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.isSpinning;return console.log(this.props),Object(r.createPortal)(e?s.a.createElement("div",{className:q.a.spinner}):null,A)}}]),t}(a.Component),J=n(20),R=n.n(J),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(t){setTimeout(t,e)})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;if("number"!==typeof e)throw new Error("The function argument should be a number!");for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},K=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={posts:[{id:"123",comment:"Hi there",created:"1526825076849",likes:[]},{id:"344",comment:"Hello",created:"1526825076867",likes:[]}],isSpinning:!1},e._createPost=e._createPost.bind(Object(f.a)(Object(f.a)(e))),e._setPostsFetchingState=e._setPostsFetchingState.bind(Object(f.a)(Object(f.a)(e))),e._likePost=e._likePost.bind(Object(f.a)(Object(f.a)(e))),e._removePost=e._removePost.bind(Object(f.a)(Object(f.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_setPostsFetchingState",value:function(e){this.setState({isSpinning:e})}},{key:"_createPost",value:function(){var e=Object(k.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._setPostsFetchingState(!0),n={id:Y(),created:O()().utc(),comment:t,likes:[]},e.next=4,T(1600);case 4:this.setState(function(e){var t=e.posts;return{posts:[n].concat(Object(_.a)(t)),isSpinning:!1}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_likePost",value:function(){var e=Object(k.a)(b.a.mark(function e(t){var n,a,s,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,a=n.currentUserFirstName,s=n.currentUserLastName,this._setPostsFetchingState(!0),e.next=4,T(1600);case 4:r=this.state.posts.map(function(e){return e.id===t?Object(h.a)({},e,{likes:[{id:Y(),firstName:a,lastName:s}]}):e}),this.setState({posts:r,isSpinning:!1});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_removePost",value:function(e){this.setState({posts:this.state.posts.filter(function(t){return t.id!==e})})}},{key:"render",value:function(){var e=this;console.log("props",this.props);var t=this.state.posts.map(function(t){return s.a.createElement(I,Object.assign({key:t.id},t,{_likePost:e._likePost,_removePost:e._removePost}))});return s.a.createElement("section",{className:R.a.feed},s.a.createElement(H,{isSpinning:this.state.isSpinning}),s.a.createElement(L,null),s.a.createElement(S,{_createPost:this._createPost}),t)}}]),t}(a.Component),Q=(n(39),n(21)),z={avatar:n.n(Q).a,currentUserFirstName:"Lisa",currentUserLastName:"Simpson"},G=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(j,{value:z},s.a.createElement(K,z))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports={like:"styles_like__2E9oa",icon:"styles_icon__R7fu2",liked:"styles_liked__2Bqjd",showLiker:"styles_showLiker__2It0s"}}},[[23,2,1]]]);
//# sourceMappingURL=main.053f2f9f.chunk.js.map